# study_blockchain

- ブロックチェーンの利点
  - 中央集権型のデータを非中央集権型(ノードに持たせる）にすることで負荷分散／対障害性を上げることができる
  - データの改ざんが困難
  - 各端末の処理速度が早い（P2Pネットワークの影響）
- ベースとなる技術
  - データをブロックという塊にし、それをチェーン上にする
    - 一つにブロックはindex,data,hash,previous-hashを持つ
    - 最初のブロックはgenesisブロックという
    - 前のブロックのハッシュを持つことで繋がる
    - ハッシュ値でつながっているため、改ざんされるとチェーンが外れる。全ブロック改善するのは非現実的
    - ブロック追加、監視については合意形成アルゴリズムが必要（有名なのはビットコインで使われているPoW）
    - またブロックの中身を暗号化(公開鍵暗号方式orデジタル署名)することにより機密性を保持
- なぜブロックチェーン
  - 通貨を一元管理する「中央」が存在するために、そこを攻略してしまえば、容易に通貨を奪うことができる
  - ネットワークに参加しているノードが取引の記録を保持している場合、誰かが攻撃されても全体への影響は少ない
  - 攻撃での変更点、を検出する仕組み、データの整合性を保つ仕組みを持つことで復元可能

# ブロックチェーンのネットワークモデル

| モデル | パブリック型 | コンソーシアム型 | プライベート型 |
|:----:|:----:|:----:|:----:|
|管理主体|なし|複数の組織|単一の組織|
|合意形成|中央排除型（PoW、PoS）|←（どちらもあり）→ | 中央集権型（PBFT）|
|データ閲覧/参加|自由|制限可能|制限可能|
|スループット|低|←（どちらもあり）→|高|

参考文献:https://dcross.impress.co.jp/docs/column/column20180725-01/000730-2.html 

# p2pネットワーク（ブロックチェーンのノード)
P2Pとは「Peer-to-Peer」の略称のことで、不特定多数の端末(スマホなど)がサーバを介さずに、端末同士で直接データファイルを共有することができる通信技術、またはソフトウェアのことを指します。  


# 弱点
- スケーラビリティ
  - 全ノードが全データを保つ必要があるため、性能上の問題が発生することが考えられる
- スループット
  - 承認を受ける。その後、各ノードにデータを送付して反映までのスループット
- 個人情報の削除ができない
  - ブロックでチェーンされているため、過去のブロックを削除することができない

#　活用について
ブロックチェーンの特徴は  
・暗号化した分散型台帳  
・データの安全管理を可能にする技術  
  
そのため、ヘルスケア業界においては、患者の情報（個人情報）を各人が管理している状況から、医者が全員アクセスでき  
みんなが必要な情報が管理されている状況を作ることができる  
  
#Appendix
## 51％攻撃
PoWが持つアルゴリズムを利用した攻撃  
PoWでは「もっとも計算処理を多く行った者を承認する」  
マイニングとは、仮想通貨のブロックチェーンに、取引を記録する（新しいブロックチェーンを作る）際に行われるものです。マイニングは、誰でも行うことが可能です。  
マイニングをすると、ある一定条件のもと、選ばれた者に報酬として仮想通貨が付与されます。ビットコインのマイニングでは、マイニングに成功すると、ビットコインを手に入れることができるのです。  
ビットコインのマイニングで承認される「一定条件」は、後述する「PoW（プルーフ・オブ・ワーク）」というシステムによって決められています。  
この条件を悪用し、1つのグループが全体の50％を超えてマイニングすると、不正な取引も承認することができてしまいます。これが「ビットコインの51％攻撃問題」です。  
ただ、この攻撃では取引を増やして、信用を落とすことは可能だが、取引自体のデータは暗号化されているため、改ざんはできない  
また、一つのノードで51%のマイニングをするためには、コスト（51%の取引を保持、ハード面のマシンや電力）がかかるため非現実的  
ただ、2018年もまだ51％攻撃は発生している  
  
## ビザンチン障害
「ビザンチン障害」は、「内部の複数メンバーで監視し合うシステム」「内部の複数メンバーで協力し合うシステム」があったとしても  
頭の良い反逆者や複数の者が結託して不正を働こうとした場合や、何らかの事情で情報伝達がうまくいかなかった場合などに、  
メンバー間での合意が形成できなくなって発生する障害のことである。  
 
## p2pネットワーク
TODO